#include <stdio.h>
#include <limits.h>

struct Edge {
    int src, dest, weight ;
};

struct Graph {
     int V,E;
     struct Edge edge[20];
};
void bellmanFord(struct Graph* graph,int src ){
     int V= graph->V;
     int E= graph->E;
     int dist[V];


//step1 
for (int i=0;i<V;i++)
     dist[i] = INT_MAX;
dist[src]=0;


//step 2:
for (int i =1;i<=V-1;i++){
   for (int j=0;j<E;j++){
        int u=graph->edge[j].src;
        int v=graph->edge[j].dest;
        int w=graph->edge[j].weight;

 if (dist[u] != INT_MAX && dist[u] + w < dist[v]) {
            printf("Graph contains negative weight cycle\n");
            return;
        }
    }

    // Print result
    printf("Vertex   Distance from Source\n");
    for (int i = 0; i < V; i++)
        printf("%d \t\t %d\n", i, dist[i]);
}
int main() {
    struct Graph graph;
    graph.V = 5;
    graph.E = 8;

    graph.edge[0] = (struct Edge){0, 1, -1};
    graph.edge[1] = (struct Edge){0, 2, 4};
    graph.edge[2] = (struct Edge){1, 2, 3};
    graph.edge[3] = (struct Edge){1, 3, 2};
    graph.edge[4] = (struct Edge){1, 4, 2};
    graph.edge[5] = (struct Edge){3, 2, 5};
    graph.edge[6] = (struct Edge){3, 1, 1};
    graph.edge[7] = (struct Edge){4, 3, -3};

    bellmanFord(&graph, 0);
    return 0;
}
